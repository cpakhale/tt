resource "null_resource" "copy_license" {

  provisioner "file" {
    source      = "license.key"
    destination = "/etc/license.key"

    connection {
      type        = "ssh"
      host        = "sh.application.local"
      port        = 1234
      user        = "root"
      password    = "root"
    }
  }

  provisioner "remote-exec" {
    inline = [
      "chmod 0600 /etc/license.key"
    ]

    connection {
      type        = "ssh"
      host        = "sh.application.local"
      port        = 1234
      user        = "root"
      password    = "root"
    }
  }
}